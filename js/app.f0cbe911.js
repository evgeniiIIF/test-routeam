(function(){"use strict";var t={8083:function(t,e,a){var s=a(7195),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper",attrs:{id:"app"}},[e("header",{staticClass:"header"},[e("div",{staticClass:"container"},[e("div",{staticClass:"header__search"},[e("VInputSearch",{ref:"inputSearch",attrs:{name:"search",placeholder:"Начните вводить текст для поиска (не менее трех символов)",limit:t.limit,page:t.page},on:{gotCards:t.gotCardsApp}})],1)])]),e("main",{staticClass:"main"},[e("div",{staticClass:"container"},[t.items.length?e("ul",{staticClass:"main__cards cards-main"},t._l(t.items,(function(t){return e("li",{staticClass:"cards-main__item"},[e("VCardItem",{ref:"cardItem",refInFor:!0,attrs:{author:t.owner.login,projectName:t.name,projectId:t.id,stargazersCount:t.stargazers_count,watchersCount:t.watchers_count,htmlUrl:t.html_url,avatarUrl:t.owner.avatar_url}})],1)})),0):t.loading?e("p",{staticClass:"main__preloader"},[t._v("Поиск проектов...")]):e("p",{staticClass:"main__preloader"},[t._v("Список проектов пуст")])])]),e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"footer__body"},[e("div",{staticClass:"footer__row"},[e("div",{staticClass:"footer__select"},[e("VSelect",{attrs:{options:t.options},on:{"on-change-option":t.onChangeOption}})],1),e("div",{staticClass:"footer__pagination"},[e("VPagination",{attrs:{pages:t.totalPages,currentPage:t.page},on:{"on-change-page":t.onChangePage}})],1)])])])])])},i=[],o=function(){var t=this,e=t._self._c;return e("form",{staticClass:"base-field v-input-search",on:{submit:function(e){return e.preventDefault(),t.sendQuery.apply(null,arguments)}}},[e("div",{staticClass:"base-field__row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.queryText,expression:"queryText"}],staticClass:"base-field__input",attrs:{type:"text",autocomplete:"off",name:t.name,placeholder:t.placeholder},domProps:{value:t.queryText},on:{input:function(e){e.target.composing||(t.queryText=e.target.value)}}}),e("div",{staticClass:"base-field__action action-base-field"},[e("button",{staticClass:"action-base-field__button"},[t.loading?e("span",{staticClass:"v-input-search__loading"}):e("img",{staticClass:"action-base-field__icon",attrs:{src:a(3655),alt:"search"}})])])])])},r=[],c=a(408),l={props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},limit:{type:Number,default:10},page:{type:Number,default:1}},data(){return{queryText:""}},computed:{...(0,c.Se)("cardItems",{loading:"stateLoading"})},methods:{...(0,c.nv)("cardItems",{getCards:"getCardItems"}),async sendQuery(){const t={queryText:this.queryText,limit:this.limit,page:this.page};await this.getCards(t),this.$emit("gotCards")}}},m=l,u=a(1001),d=(0,u.Z)(m,o,r,!1,null,null,null),p=d.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-select"},[e("select",{attrs:{name:"countCards"},domProps:{value:t.modelValue},on:{change:t.changeOption}},t._l(t.options,(function(a,s){return e("option",{key:a.value,domProps:{selected:0===s,value:a}},[t._v(" "+t._s(a)+" ")])})),0)])},f=[],_={name:"v-select",props:{modelValue:{type:Number,default:()=>10},options:{type:Array,default:()=>[10,25,50]}},methods:{changeOption(t){let e=t.target.value;this.$emit("update:modelValue",e),this.$emit("on-change-option",e)}}},v=_,h=(0,u.Z)(v,g,f,!1,null,null,null),C=h.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-pagination"},[e("ul",{staticClass:"v-pagination__list"},[t._m(0),t._l(t.pages,(function(a){return e("li",{key:a,staticClass:"v-pagination__item"},[e("span",{staticClass:"v-pagination__number",class:{"v-pagination__number--active":a===t.currentPage},on:{click:function(e){return t.changePage(a)}}},[t._v(" "+t._s(a)+" ")])])})),t._m(1)],2)])},y=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"v-pagination__item-left"},[e("div",{staticClass:"v-pagination__left"},[e("img",{attrs:{src:a(7209),alt:"arrow-left"}})])])},function(){var t=this,e=t._self._c;return e("li",{staticClass:"v-pagination__item-right"},[e("div",{staticClass:"v-pagination__left"},[e("img",{attrs:{src:a(8900),alt:"arrow-left"}})])])}],x={name:"v-pagination",props:{pages:{type:Number,default:1},currentPage:{type:Number,default:1}},methods:{changePage(t){this.$emit("on-change-page",t)}}},I=x,w=(0,u.Z)(I,b,y,!1,null,null,null),P=w.exports,S=function(){var t=this,e=t._self._c;return e("a",{staticClass:"v-card-item",attrs:{href:t.htmlUrl,target:"_blank"}},[t._v(" "+t._s(t.projectId)+" "),e("h3",{staticClass:"v-card-item__title"},[t._v(t._s(t.projectName))]),e("div",{staticClass:"v-card-item__info info-card-item"},[e("div",{staticClass:"info-card-item__top top-card-info"},[e("img",{staticClass:"top-card-info__image",attrs:{src:t.avatarUrl,alt:"avatar"}}),e("p",{staticClass:"top-card-info__name"},[t._v(t._s(t.author))])]),e("div",{staticClass:"info-card-item__bottom bottom-card-info"},[e("div",{staticClass:"bottom-card-info__item"},[e("img",{staticClass:"bottom-card-info__icon",attrs:{src:a(6338),alt:"star"}}),e("span",{staticClass:"bottom-card-info__value"},[t._v(t._s(t.stargazersCount))])]),e("div",{staticClass:"bottom-card-info__item"},[e("img",{staticClass:"bottom-card-info__icon",attrs:{src:a(7057),alt:"star"}}),e("span",{staticClass:"bottom-card-info__value"},[t._v(t._s(t.watchersCount))])])])]),e("div",{staticClass:"v-card-item__input",on:{click:function(t){t.preventDefault()}}},[e("VInputComment",{attrs:{placeholder:"Комментарий к проекту",name:"comment",comment:t.comment},on:{"on-save-comment":t.onSaveComment}})],1)])},j=[],T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-field v-input-comment"},[e("div",{staticClass:"base-field__row",style:t.writingProcess?"z-index: 10":"z-index: 0"},[e("textarea",{staticClass:"base-field__input",attrs:{type:"text",name:t.name,placeholder:t.placeholder},domProps:{value:t.comment},on:{focus:t.focusTextArea,input:t.writeComment,blur:t.saveComment}}),e("div",{staticClass:"base-field__action action-base-field"},[e("button",{staticClass:"action-base-field__button"},[t.writingProcess?e("span",{staticClass:"v-input-comment__button-inner"},[t._v("ok")]):e("img",{staticClass:"action-base-field__icon",attrs:{src:a(394),alt:"pencil"},on:{click:t.focusToTextArea}})])])])])},q=[],N={props:{name:{type:String,required:!0},placeholder:{type:String,required:!0},comment:{type:String,required:!0}},data(){return{writingProcess:!1}},methods:{focusTextArea(t){this.writingProcess=!0,this.setHeightTextArea(t)},writeComment(t){this.setHeightTextArea(t)},saveComment(t){const e=t.target;e.style.height="54px",this.$emit("on-save-comment",e.value),this.writingProcess=!1},focusToTextArea(t){const e=t.target.closest(".base-field__row").querySelector(".base-field__input");e.focus()},setHeightTextArea(t){const e=t.target;e.style.height="54px",e.style.height=e.scrollHeight+"px"}}},O=N,V=(0,u.Z)(O,T,q,!1,null,null,null),k=V.exports,A={name:"v-card-item",props:{projectId:{type:Number,requited:!0},projectName:{type:String,required:!0},author:{type:String,required:!0},avatarUrl:{type:String,required:!0},htmlUrl:{type:String,required:!0},stargazersCount:{type:Number,required:!0},watchersCount:{type:Number,required:!0}},components:{VInputComment:k},data(){return{comment:""}},computed:{...(0,c.Se)("savedComments",{commentsAll:"commentsForProjects"})},methods:{...(0,c.nv)("savedComments",{saveCommentData:"saveComment",initComment:"init"}),onSaveComment(t){this.comment=t;const e={commentText:t,projectId:this.projectId,projectName:this.projectName};this.saveCommentData(e)},displayComment(){this.comment="",this.initComment(),this.commentsAll.forEach((t=>{t.projectId===this.projectId&&(this.comment=t.commentText)}))}}},Z=A,L=(0,u.Z)(Z,S,j,!1,null,null,null),F=L.exports,$={components:{VInputSearch:p,VCardItem:F,VSelect:C,VPagination:P},data(){return{query:"",page:1,limit:10,options:[10,25,50]}},computed:{...(0,c.Se)("cardItems",{items:"cardItems",totalCountItems:"totalCount",loading:"stateLoading"}),totalPages(){const t=Math.ceil(this.totalCountItems/this.limit);return t>6?6:t}},methods:{gotCardsApp(){this.$refs.cardItem.forEach((t=>{t.displayComment()}))},onChangeOption(t){this.limit=Number(t)},onChangePage(t){this.page=t,this.$refs.inputSearch.sendQuery()}}},z=$,U=(0,u.Z)(z,n,i,!1,null,null,null),D=U.exports,E=a(306),H={namespaced:!0,state:{cardItems:[],stateLoading:!1,totalCount:null},getters:{cardItems:t=>t.cardItems,stateLoading:t=>t.stateLoading,totalCount:t=>t.totalCount},mutations:{setCardItems(t,e){t.cardItems=e},setStateLoading(t,e){t.stateLoading=e},setTotalCount(t,e){t.totalCount=e}},actions:{async getCardItems(t,e){if(e){t.commit("setStateLoading",!0),t.commit("setCardItems",[]);const a=await E.Z.get("https://api.github.com/search/repositories",{params:{q:e.queryText,per_page:e.limit,_page:e.page}});let s=a.data.items;t.commit("setCardItems",s),t.commit("setTotalCount",a.data.total_count),t.commit("setStateLoading",!1)}}}},Q=(a(7658),{namespaced:!0,state:{commentsForProjects:[]},getters:{commentsForProjects:t=>t.commentsForProjects},mutations:{init(t){const e=localStorage.getItem("comments");e&&(t.commentsForProjects=JSON.parse(e))},saveComment(t,e){const a=t.commentsForProjects;let s;a.forEach((t=>{if(t.projectId===e.projectId)return s=t.projectId,void(t.commentText=e.commentText)})),s!==e.projectId&&a.push(e);const n=JSON.stringify(a);localStorage.setItem("comments",n)}},actions:{init(t){t.commit("init")},saveComment(t,e){t.commit("saveComment",e)}}});s.ZP.use(c.ZP);var J=new c.ZP.Store({modules:{cardItems:H,savedComments:Q},strict:!1});s.ZP.config.productionTip=!1,new s.ZP({store:J,render:t=>t(D)}).$mount("#app")},7209:function(t,e,a){t.exports=a.p+"img/arrow-left.c601aecc.svg"},8900:function(t,e,a){t.exports=a.p+"img/arrow-right.7b7e5d87.svg"},7057:function(t,e,a){t.exports=a.p+"img/eye.fb430a98.svg"},394:function(t,e,a){t.exports=a.p+"img/pencil.c9960d07.svg"},3655:function(t,e,a){t.exports=a.p+"img/search.3624b1e6.svg"},6338:function(t,e,a){t.exports=a.p+"img/star.fdc2a233.svg"}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,i){if(!s){var o=1/0;for(m=0;m<t.length;m++){s=t[m][0],n=t[m][1],i=t[m][2];for(var r=!0,c=0;c<s.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[c])}))?s.splice(c--,1):(r=!1,i<o&&(o=i));if(r){t.splice(m--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[s,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,o=s[0],r=s[1],c=s[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(c)var m=c(a)}for(e&&e(s);l<o.length;l++)i=o[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(m)},s=self["webpackChunkrouteam_test"]=self["webpackChunkrouteam_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8083)}));s=a.O(s)})();
//# sourceMappingURL=app.f0cbe911.js.map